
<!DOCTYPE html  [
    <!ENTITY nbsp "&#160;">]>
    <ui:composition template="/layout_dashboard.xhtml"
                    xmlns="http://www.w3.org/1999/xhtml"
                    xmlns:f="http://java.sun.com/jsf/core"
                    xmlns:h="http://java.sun.com/jsf/html"
                    xmlns:ui="http://java.sun.com/jsf/facelets"
                    xmlns:p="http://primefaces.org/ui">
        
        <ui:define name="Content">
        </ui:define>

        <ui:define name="Menu">
         
            <h:form id="form">
                <p:growl id="messages1" showDetail="true" />

                <p:contextMenu for="treeSingle">
                    <p:menuitem value="Add" update="treeSingle" actionListener="#{treeBean.addNode}" icon="ui-icon-search" />
                    <p:menuitem value="View" update="messages1" actionListener="#{treeBean.displaySelectedSingle}" icon="ui-icon-search" />
                    <p:menuitem value="Delete" update="treeSingle" actionListener="#{treeBean.deleteNode}" icon="ui-icon-close"/>
                </p:contextMenu>
                <p:tree id="treeSingle" value="#{treeBean.root}" var="node" 
                            selectionMode="single"
                            selection="#{treeBean.selectedNode}"
                            dynamic="true" >
                        <p:ajax event="select" update=":test" listener="#{treeBean.onNodeSelect}"/>  

                        <p:treeNode>
                            <h:outputText value="#{node.courseName}"/>
                        </p:treeNode>
                    </p:tree>
            </h:form>

        </ui:define>
        <ui:define name="TopBar">
            <h:panelGroup style="display:block; text-align:right">
                <h:outputLink>Add course</h:outputLink>
            </h:panelGroup> 
        </ui:define>



        <ui:define name="Content">
            <h:panelGroup id="test" layout="block">
                <ui:include src="#{treeBean.pageToInclude}Create_perso.xhtml" />

            </h:panelGroup>
        </ui:define>
    </ui:composition>